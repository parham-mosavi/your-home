<div class="page-container">
    <div class="form-wrapper">
        <div class="header">
            <img src="icon-heder.svg" alt="Building Icon" class="icon" />
            <span class="title">Your Home</span>
        </div>

        <div class="card">
            <div class="card-header">
                <h2>Register as Technician</h2>
                <p>Create your profile to start offering your services</p>
            </div>

            <form [formGroup]="registerFg" class="form-grid">

                <mat-form-field appearance="outline">
                    <mat-label>FirstName</mat-label>
                    <input type="text" [formControl]="FirstNameCtrl" matInput>
                    <mat-hint>Between 1 to 30 characters.</mat-hint>
                    @if (FirstNameCtrl.hasError('required')) {
                    <mat-error>This field is required.</mat-error>
                    }
                    @else if (FirstNameCtrl.hasError("maxlength")) {
                    <mat-error>Min 30 characters</mat-error>
                    }
                </mat-form-field>

                <mat-form-field appearance="outline">
                    <mat-label>LastName</mat-label>
                    <input type="text" [formControl]="LastNameCtrl" matInput>
                    <mat-hint>Between 1 to 30 characters.</mat-hint>
                    @if (LastNameCtrl.hasError('required')) {
                    <mat-error>This field is required.</mat-error>
                    }
                    @else if (LastNameCtrl.hasError("maxlength")) {
                    <mat-error>Min 30 characters</mat-error>
                    }
                </mat-form-field>

                <mat-form-field appearance="outline">
                    <mat-label>PhoneNumber</mat-label>
                    <input type="text" [formControl]="PhoneNumberCtrl" matInput>
                    <mat-hint>Between 1 to 30 characters.</mat-hint>
                    @if (PhoneNumberCtrl.hasError('required')) {
                    <mat-error>This field is required.</mat-error>
                    }
                    @else if (PhoneNumberCtrl.hasError("maxlength")) {
                    <mat-error>Min 30 characters</mat-error>
                    }
                </mat-form-field>

                <mat-form-field appearance="outline">
                    <mat-label>Password</mat-label>
                    <input type="password" [formControl]="PasswordCtrl" matInput>
                    @if (PasswordCtrl.hasError('required')) {
                    <mat-error>This field is required.</mat-error>
                    }
                    @else if (PasswordCtrl.errors && PasswordCtrl.hasError('minlength')) {
                    <mat-error>It's too short. Min: 8 is required.</mat-error>
                    }
                    @else if(PasswordCtrl.errors && PasswordCtrl.hasError('maxlength')) {
                    <mat-error>It's too long. Max: 20 characters.</mat-error>
                    }
                </mat-form-field>

                <mat-form-field appearance="outline">
                    <mat-label>Confirm Password</mat-label>
                    <input type="password" [formControl]="ConfirmPasswordCtrl" matInput>
                    @if (ConfirmPasswordCtrl.hasError('required')) {
                    <mat-error>This field is required.</mat-error>
                    }
                    @else if (ConfirmPasswordCtrl.errors && ConfirmPasswordCtrl.hasError('minlength')) {
                    <mat-error>It's too short. Min: {{ConfirmPasswordCtrl.errors['minlength'].requiredLength}}
                        is
                        required.</mat-error>
                    }
                    @else if(ConfirmPasswordCtrl.errors && ConfirmPasswordCtrl.hasError('maxlength')) {
                    <mat-error>It's too long. Max: {{ConfirmPasswordCtrl.errors['maxlength'].requiredLength}}
                        characters.</mat-error>
                    }
                </mat-form-field>

                <mat-form-field appearance="outline">
                    <mat-label>city</mat-label>
                    <input type="text" [formControl]="CityCtrl" matInput>
                    <mat-hint>Between 1 to 30 characters.</mat-hint>
                    @if (CityCtrl.hasError('required')) {
                    <mat-error>This field is required.</mat-error>
                    }
                    @else if (CityCtrl.hasError("maxlength")) {
                    <mat-error>Min 30 characters</mat-error>
                    }
                </mat-form-field>

                <mat-form-field appearance="outline">
                    <mat-label>country</mat-label>
                    <input type="text" [formControl]="CountryCtrl" matInput>
                    <mat-hint>Between 1 to 30 characters.</mat-hint>
                    @if (CountryCtrl.hasError('required')) {
                    <mat-error>This field is required.</mat-error>
                    }
                    @else if (CountryCtrl.hasError("maxlength")) {
                    <mat-error>Min 30 characters</mat-error>
                    }
                </mat-form-field>

                <mat-form-field appearance="outline">
                    <mat-label>Technique</mat-label>
                    <input type="text" [formControl]="TechniqueCtrl" matInput>
                    <mat-hint>Between 1 to 30 characters.</mat-hint>
                    @if (TechniqueCtrl.hasError('required')) {
                    <mat-error>This field is required.</mat-error>
                    }
                    @else if (TechniqueCtrl.hasError("maxlength")) {
                    <mat-error>Min 30 characters</mat-error>
                    }
                </mat-form-field>


                <!-- <button type="submit" [disabled]="isLoading" class="submit-btn">
                        {{ isLoading ? 'Creating account...' : 'Create Technician Account' }}
                    </button> -->
                <button (click)="register()" class="submit-btn">
                    Register
                </button>
            </form>

            <h1>
                @if (passwordsNotMatch) {
                <p>Passwords don't match!</p>
                }
            </h1>

            <div class="footer">
                <p>
                    Already have an account?
                    <a routerLink="account/logintec">Sign in</a>
                </p>
            </div>
        </div>

        <div class="back-link">
            <a routerLink="/">‚Üê Back to home</a>
        </div>
    </div>
</div>